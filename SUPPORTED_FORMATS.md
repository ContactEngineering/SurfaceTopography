# Supported File Formats

SurfaceTopography supports reading surface topography data from a wide variety of file formats commonly used by commercial profilometers, AFMs, and other surface measurement instruments.

## File Format Table

| Format Name | Extensions | Description |
|-------------|------------|-------------|
| Alicona Imaging AL3D | `.al3d` | AL3D format of Alicona Imaging optical 3D measurement systems |
| BCR-STM | `.bcr`, `.bcrf` | BCR-STM and BCRF file formats for scanning tunneling microscopy |
| Bruker/Veeco/DI Nanoscope | `.spm`, `.001`-`.005` | Digital Instruments, Veeco, and Bruker Dimension AFM formats |
| Bruker Dektak OPDx | `.opdx` | File format of the Bruker Dektak XT series stylus profilometer |
| Bruker Wyko OPD | `.opd` | Files generated by Vision software of Bruker Wyko white-light interferometers |
| Digital Surf SUR | `.sur` | Digital Surf SUR data files |
| Gwyddion | `.gwy` | Native file format of the open-source SPM visualization software Gwyddion |
| Hierarchical Data Format (HDF5) | `.h5` | HDF5 files with 2D arrays (e.g., contact mechanics challenge data) |
| Igor Binary Wave | `.ibw` | Igor binary wave container format (WaveMetrics Igor Pro) |
| JPK Image Scan | `.jpk` | TIFF-based file format of JPK instruments (now Bruker) |
| Keyence VK | `.vk3`, `.vk4`, `.vk6`, `.vk7` | VK3/VK4/VK6/VK7 formats of Keyence laser confocal microscopes |
| Keyence ZON | `.zon` | ZON files from some Keyence instruments |
| MATLAB | `.mat` | MATLAB workspace files containing topography data |
| Microprof FRT | `.frt` | MicroProf FRT profilometry data |
| Mitutoyo SurfTest | `.xlsx` | Excel spreadsheets from Mitutoyo SurfTest instruments |
| Molecular Imaging (MI) | `.mi` | Agilent Technologies (Molecular Imaging) AFM format |
| NanoSurf easyScan | `.ezd`, `.nid` | NanoSurf easyScan data files |
| Nanomeasuring Machine (NMM) | `.zip` | ZIP-packaged nanomeasuring machine files |
| NASA SRTM | `.hgt` | NASA Shuttle Radar Topography Mission elevation data |
| NetCDF | `.nc` | Network Common Data Format (classic and HDF5-based NetCDF4) |
| NumPy Array | `.npy` | NumPy binary array format |
| Olympus LEXT | `.lext` | TIFF-based format of Olympus LEXT confocal microscopes |
| Olympus OIR | `.oir` | Olympus OIR data files |
| Olympus Packed OIR | `.poir` | ZIP-packaged Olympus OIR files |
| Park Systems TIFF | `.tiff`, `.tif` | TIFF-based format of Park Systems AFM instruments |
| Plain Text (ASCII) | `.txt`, `.asc`, `.dat` | Plain text files with optional headers |
| Plain Text (XYZ) | `.xyz`, `.hfm`, `.csv` | Coordinate data as (x, y, z) tuples |
| Sensofar PLU | `.plu`, `.apx` | Sensofar SPM file format |
| Sensofar PLUX | `.plux` | Sensofar XML-based SPM file format |
| WSxM | `.cur`, `.stp`, `.tom`, `.top` | WSxM SPM data files |
| X3P | `.x3p` | ISO 5436-2 XML 3D surface profile container format |
| Zygo DATX | `.datx` | Zygo DATX HDF5-based format |
| Zygo MetroPro | `.dat` | Zygo MetroPro data files |

## Container Formats

In addition to individual topography files, SurfaceTopography can read container formats that bundle multiple topographies:

| Format Name | Extensions | Description |
|-------------|------------|-------------|
| contact.engineering | `.zip` | Digital surface twin containers from [contact.engineering](https://contact.engineering/) |
| Keyence ZAG | `.zag` | Keyence ZAG container format |

## Usage

```python
from SurfaceTopography import open_topography, read_topography

# Auto-detect format and open file
reader = open_topography("measurement.vk4")
topography = reader.topography()

# Or read directly
topography = read_topography("measurement.vk4")
```

For formats that don't store physical sizes or units (e.g., NPY, HDF5), you must provide them:

```python
topography = read_topography("data.npy", physical_sizes=(10.0, 10.0), unit="um")
```

## Notes

- File format is auto-detected from file content (magic bytes) when possible
- Some formats support multiple channels (e.g., height, amplitude error) - use `reader.channels` to inspect
- Most readers support both file paths and file-like objects
- Some readers support MPI-parallel reading for large datasets
